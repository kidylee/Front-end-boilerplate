<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Play Ground</title>
	<link rel="stylesheet" href="">
	  <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
	<script src="../node_modules/css-element-queries/src/ResizeSensor.js"></script>
	<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <style>
	  #test { width: 150px; height: 150px; padding: 0.5em; }
  </style>
</head>
<body>
		<div id="test" class="ui-widget-content">
			
		</div>

	<script>

		
		(function() {
			var d3 = Plotly.d3;

			var WIDTH_IN_PERCENT_OF_PARENT = 60,
			    HEIGHT_IN_PERCENT_OF_PARENT = 80;

			var gd3 = d3.select('#test')
			    .style({

			        width: WIDTH_IN_PERCENT_OF_PARENT + '%',
			        'margin-left': (100 - WIDTH_IN_PERCENT_OF_PARENT) / 2 + '%',

			        height: HEIGHT_IN_PERCENT_OF_PARENT + 'vh',
			        'margin-top': (100 - HEIGHT_IN_PERCENT_OF_PARENT) / 2 + 'vh'
			    });

			var gd = gd3.node();

			Plotly.plot(gd, [{
			    type: 'bar',
			    x: [1, 2, 3, 4],
			    y: [5, 10, 2, 8],
			    marker: {
			        color: '#C8A2C8',
			        line: {
			            width: 2.5
			        }
			    }
			}], {
			    title: 'Auto-Resize',
			    font: {
			        size: 16
			    }
			});

			var element = document.getElementById('test');
				new ResizeSensor(element, function() {
					console.log("onResize");
				    Plotly.Plots.resize(gd);
				});
			

		})();

		$(function() {
    		$( "#test" ).resizable();
  		});

	</script>
</body>
</html>